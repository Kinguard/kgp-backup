opi-backup (2.3.31) vili; urgency=medium

  * Fixed date in status.json 

 -- PA Nilsson <pa@openproducts.se>  Thu, 27 Dec 2018 22:38:21 +0100

opi-backup (2.3.30) vili; urgency=medium

  * Improved handing of existing but empty progress file. 
  * Pipe expire_backup statefile through json_pp which seems to ba a more robust parser.

 -- PA Nilsson <pa@openproducts.se>  Wed, 12 Dec 2018 10:38:52 +0100

opi-backup (2.3.29) vili; urgency=medium

  * Various minor updates to restore and progress scripts. 

 -- PA Nilsson <pa@openproducts.se>  Thu, 13 Sep 2018 11:17:13 +0200

opi-backup (2.3.28) vili; urgency=medium

  * Update restore script so that rsync formats output the same way as backup script. 

 -- PA Nilsson <pa@openproducts.se>  Wed, 12 Sep 2018 14:43:09 +0200

opi-backup (2.3.27) vili; urgency=medium

  * Move authfile parameter to sysconfig.

 -- PA Nilsson <pa@openproducts.se>  Wed, 05 Sep 2018 11:23:09 +0200

opi-backup (2.3.26) vili; urgency=medium

  * Support local and amazon backends without unitid. 

 -- PA Nilsson <pa@openproducts.se>  Tue, 28 Aug 2018 09:09:03 +0200

opi-backup (2.3.25) vili; urgency=medium

  * Move devicemount path variable setup not to depend on existance of target.conf 

 -- PA Nilsson <pa@openproducts.se>  Fri, 24 Aug 2018 11:20:15 +0200

opi-backup (2.3.24) vili; urgency=medium

  * Respect enabled parameter. 

 -- PA Nilsson <pa@openproducts.se>  Tue, 10 Jul 2018 10:26:21 +0200

opi-backup (2.3.23) vili; urgency=medium

  * Updated regex for parameter migration. 

 -- PA Nilsson <pa@openproducts.se>  Thu, 05 Jul 2018 14:18:37 +0200

opi-backup (2.3.22) vili; urgency=medium

  * Read and migrate config parameters from target.conf to sysconfig 

 -- PA Nilsson <pa@openproducts.se>  Mon, 02 Jul 2018 16:30:53 +0200

opi-backup (2.3.21) vili; urgency=medium

  * Exclude /ar/opi/tmp from backup. 

 -- PA Nilsson <pa@openproducts.se>  Thu, 28 Jun 2018 10:08:34 +0200

opi-backup (2.3.20) vili; urgency=medium

  * Changed incorrect script output to debug output. 

 -- PA Nilsson <pa@openproducts.se>  Fri, 18 May 2018 14:46:15 +0200

opi-backup (2.3.19) vili; urgency=medium

  * Remove forgotten debug prints. 

 -- PA Nilsson <pa@openproducts.se>  Wed, 09 May 2018 12:57:15 +0200

opi-backup (2.3.18) vili; urgency=medium

  * Added support to exclude dirs from backup
  * Added experimental support for progress report during backup.

 -- PA Nilsson <pa@openproducts.se>  Tue, 08 May 2018 14:19:50 +0200

opi-backup (2.3.17) vili; urgency=medium

  * Fixed check for systype to set OPI cache size. 

 -- PA Nilsson <pa@openproducts.se>  Fri, 23 Mar 2018 13:46:58 +0100

opi-backup (2.3.16) vili; urgency=medium

  * Added support to set smaller cache size for OPI 

 -- PA Nilsson <pa@openproducts.se>  Tue, 06 Mar 2018 11:20:31 +0100

opi-backup (2.3.15) vili; urgency=medium

  * Added dep on llfuse-legacy 

 -- PA Nilsson <pa@openproducts.se>  Fri, 08 Dec 2017 07:00:45 +0100

opi-backup (2.3.14) vili; urgency=medium

  * Removed duplicate nextcloud data from target. Fixes #367 

 -- PA Nilsson <pa@openproducts.se>  Wed, 06 Dec 2017 07:48:31 +0100

opi-backup (2.3.13) vili; urgency=medium

  * Fixed typo in sed expression
  * Corrected path for /etc/opi on target 

 -- PA Nilsson <pa@openproducts.se>  Tue, 05 Dec 2017 22:22:14 +0100

opi-backup (2.3.12) vili; urgency=medium

  * Do not include system files that are regenerated in backup (keys etc..)

 -- PA Nilsson <pa@openproducts.se>  Mon, 04 Dec 2017 07:45:53 +0100

opi-backup (2.3.11) vili; urgency=medium

  * Fixed issue with files in /etc/ being incorrectly copied. 
  * Running backup to tmp name and then renaming.

 -- PA Nilsson <pa@openproducts.se>  Thu, 30 Nov 2017 15:15:43 +0100

opi-backup (2.3.10) vili; urgency=medium

  * Fixed #380, Nextcloud scans only one users datadir 

 -- PA Nilsson <pa@openproducts.se>  Fri, 10 Nov 2017 08:35:10 +0100

opi-backup (2.3.9) vili; urgency=medium

  * Fixed #384, "Backup tries to run on locked system"
  * Fixed #383, "Backup fails on first run"
  * Fixed #302, "Backup fails in corrupted state file" 

 -- PA Nilsson <pa@openproducts.se>  Wed, 01 Nov 2017 11:23:08 +0100

opi-backup (2.3.8) vili; urgency=medium

  * Reworked "valid backends" to support arbitrary mountpoints 

 -- PA Nilsson <pa@openproducts.se>  Tue, 31 Oct 2017 17:39:16 +0100

opi-backup (2.3.7) vili; urgency=medium

  * Fixed #382, "Incorrect link and datascan" 

 -- PA Nilsson <pa@openproducts.se>  Mon, 30 Oct 2017 15:41:40 +0100

opi-backup (2.3.6) vili; urgency=medium

  * Fixed #369, "Faulty Backup not shown"
  * Fixed #367, "Nextcloud data duplicated" 

 -- PA Nilsson <pa@openproducts.se>  Mon, 30 Oct 2017 15:20:05 +0100

opi-backup (2.3.5) vili; urgency=medium

  * Only exit if no valid FS's are available
  * Fix name of cronjob file 

 -- PA Nilsson <pa@openproducts.se>  Mon, 30 Oct 2017 11:46:20 +0100

opi-backup (2.3.4) vili; urgency=medium

  * Fixed cronjob
  * opi-backup is default totally quiet. 

 -- PA Nilsson <pa@openproducts.se>  Mon, 30 Oct 2017 11:04:24 +0100

opi-backup (2.3.3) vili; urgency=medium

  * Implement restore contacts and calendars

 -- Tor Krill <tor@openproducts.se>  Mon, 30 Oct 2017 10:41:18 +0100

opi-backup (2.3.2) vili; urgency=medium

  * Updated link-scripts
  * Excluding s3ql cache from backup
  * Using psutil to read disk info for quota calculations 

 -- PA Nilsson <pa@openproducts.se>  Fri, 27 Oct 2017 14:53:08 +0200

opi-backup (2.3.1) vili; urgency=medium

  * Updated import and export scripts for Nextcloud

 -- Tor Krill <tor@openproducts.se>  Fri, 13 Oct 2017 08:25:48 +0200

opi-backup (2.3) vili; urgency=medium

  * Added dep on s3ql-legacy 

 -- PA Nilsson <pa@openproducts.se>  Thu, 12 Oct 2017 07:58:14 +0200

opi-backup (2.2) vili; urgency=medium

  * Added exprire backup support for s3ql 2.7 

 -- PA Nilsson <pa@openproducts.se>  Wed, 11 Oct 2017 15:04:03 +0200

opi-backup (2.1) vili; urgency=medium

  * Add deps and export functions. 

 -- PA Nilsson <pa@openproducts.se>  Wed, 11 Oct 2017 11:57:07 +0200

opi-backup (2.0) vili; urgency=medium

  * Added support for both s3ql 2.7 and 2.21 versions. 

 -- PA Nilsson <pa@openproducts.se>  Tue, 03 Oct 2017 23:36:13 +0200

opi-backup (1.14) vili; urgency=medium

  * Fixed unwanted termination when mount script was called from backup script. 

 -- PA Nilsson <pa@openproducts.se>  Mon, 18 Sep 2017 10:39:03 +0200

opi-backup (1.13) vili; urgency=medium

  * Fixed issue with reporting quota on s3op backend
  * Improved exit codes on mount script, closes #296 

 -- PA Nilsson <pa@openproducts.se>  Thu, 14 Sep 2017 16:31:04 +0200

opi-backup (1.12) vili; urgency=medium

  * Make rsync only output errors to logfile to keep the size down. 

 -- PA Nilsson <pa@openproducts.se>  Thu, 14 Sep 2017 14:33:29 +0200

opi-backup (1.11) vili; urgency=medium

  * Fixed error handling with incorrect credentials for amazon backend. 

 -- PA Nilsson <pa@openproducts.se>  Fri, 13 Jan 2017 14:07:16 +0100

opi-backup (1.10) vili; urgency=medium

  * Renamed and moved config files and log files
  * Added information to what backend was used for latest backup

 -- PA Nilsson <pa@openproducts.se>  Fri, 13 Jan 2017 10:51:55 +0100

opi-backup (1.9) vili; urgency=medium

  * Updated paths to config files
  * Added support for amazon backend 

 -- PA Nilsson <pa@openproducts.se>  Thu, 12 Jan 2017 10:36:28 +0100

opi-backup (1.8) vili; urgency=medium

  * Fixed issue with disappearing files while running rsync 

 -- PA Nilsson <pa@openproducts.se>  Fri, 25 Nov 2016 17:54:02 +0100

opi-backup (1.7) vili; urgency=medium

  * Moved export/import scritps to owncloud dir

 -- PA Nilsson <pa@openproducts.se>  Wed, 28 Sep 2016 07:55:58 +0200

opi-backup (1.6) vili; urgency=medium

  * Really add backup scripts

 -- Tor Krill <tor@openproducts.se>  Fri, 19 Aug 2016 10:17:39 +0200

opi-backup (1.5) vili; urgency=medium

  * Add calendar/contact export to backup

 -- Tor Krill <tor@openproducts.se>  Thu, 11 Aug 2016 09:55:34 +0200

opi-backup (1.4) vili; urgency=low

  * Linking upstart to link_backup in order to recreate symlinks.

 -- PA Nilsson <pa@openproducts.se>  Wed, 15 Apr 2015 20:53:11 +0200

opi-backup (1.3) vili; urgency=low

  * Updated name of startscript that is run from opi-control "completed"
  * Updated paths in mount_fs script

 -- PA Nilsson <pa@openproducts.se>  Tue, 14 Apr 2015 11:05:57 +0200

opi-backup (1.2) vili; urgency=low

  * mount_fs now terminates on invalid backends without running fsck

 -- PA Nilsson <pa@openproducts.se>  Tue, 14 Apr 2015 07:59:35 +0200

opi-backup (1.1) vili; urgency=low

  * Mounting fs on opi-control "complete"
  * Added config files to backup
  * Addes status file to backup

 -- PA Nilsson <pa@openproducts.se>  Mon, 13 Apr 2015 12:20:05 +0200

opi-backup (1.0.28) vili; urgency=medium

  * Use parameter for defaults file in ping

 -- Tor Krill <tor@openproducts.se>  Wed, 11 Feb 2015 12:16:41 +0100

opi-backup (1.0.27) vili; urgency=medium

  * Initial add of restore functionality

 -- Tor Krill <tor@openproducts.se>  Wed, 11 Feb 2015 07:31:27 +0100

opi-backup (1.0.26) vili; urgency=medium

  * Add umount script to package

 -- Tor Krill <tor@openproducts.se>  Fri, 30 Jan 2015 11:07:23 +0100

opi-backup (1.0.25) vili; urgency=low

  * Added support to override config files with command line arguments.
  * Added umount script

 -- PA Nilsson <pa@openproducts.se>  Thu, 29 Jan 2015 20:19:06 +0100

opi-backup (1.0.24) vili; urgency=low

  * Removed output from script not to trigger cron mail

 -- PA Nilsson <pa@openproducts.se>  Tue, 26 Aug 2014 15:13:05 +0200

opi-backup (1.0.23) vili; urgency=low

  * A locked SD card that prohibits the backup is not to be 
    indicated as a backup failure

 -- PA Nilsson <pa@openproducts.se>  Mon, 25 Aug 2014 13:35:30 +0200

opi-backup (1.0.22) vili; urgency=low

  * Improved handling of local disk quota
  * Detect change of backend also on a system with a mounted backend.

 -- PA Nilsson <pa@openproducts.se>  Sat, 09 Aug 2014 13:05:35 +0200

opi-backup (1.0.21) vili; urgency=low

  * Using s3qlrm to remove expired backups

 -- PA Nilsson <pa@openproducts.se>  Fri, 08 Aug 2014 07:44:49 +0200

opi-backup (1.0.20) vili; urgency=low

  * Added mysql-dump again to backupset
  * Fixed exclude paths

 -- PA Nilsson <pa@openproducts.se>  Thu, 07 Aug 2014 22:19:50 +0200

opi-backup (1.0.19) vili; urgency=low

  * Temporary disable mysql dump

 -- PA Nilsson <pa@openproducts.se>  Mon, 04 Aug 2014 12:26:47 +0200

opi-backup (1.0.18) testing; urgency=low

  * Added entire sd card area to backup
  * Dumping mysql to backup
  * Added support to read "quota" from local device

 -- PA Nilsson <pa@openproducts.se>  Thu, 31 Jul 2014 21:11:12 +0200

opi-backup (1.0.17) testing; urgency=low

  * Altered permissions on userdata in backup 

 -- PA Nilsson <pa@openproducts.se>  Tue, 29 Jul 2014 08:02:49 +0200

opi-backup (1.0.16) testing; urgency=low

  * Aborting backup if there is currently an ongoing backup.

 -- PA Nilsson <pa@openproducts.se>  Mon, 28 Jul 2014 12:24:41 +0200

opi-backup (1.0.15) testing; urgency=low

  * Changed capath -> ca_path

 -- PA Nilsson <pa@openproducts.se>  Sun, 27 Jul 2014 13:22:53 +0200

opi-backup (1.0.14) testing; urgency=low

  * Fixed path error that prevented backup from running from cron.

 -- PA Nilsson <pa@openproducts.se>  Fri, 25 Jul 2014 13:58:21 +0200

opi-backup (1.0.13) testing; urgency=low

  * Turned backup off by default

 -- PA Nilsson <pa@openproducts.se>  Fri, 25 Jul 2014 10:03:34 +0200

opi-backup (1.0.12) testing; urgency=low

  * Fixed typo

 -- PA Nilsson <pa@openproducts.se>  Thu, 24 Jul 2014 20:30:14 +0200

opi-backup (1.0.11) testing; urgency=low

  * Improved error reporting

 -- PA Nilsson <pa@openproducts.se>  Tue, 22 Jul 2014 23:07:37 +0200

opi-backup (1.0.10) testing; urgency=low

  * Fixed issue with overwriting user settings on upgrade 

 -- PA Nilsson <pa@openproducts.se>  Mon, 21 Jul 2014 14:44:59 +0200

opi-backup (1.0.9) testing; urgency=low

  * Fixed access rights to auth file

 -- PA Nilsson <pa@openproducts.se>  Mon, 21 Jul 2014 14:23:10 +0200

opi-backup (1.0.8) testing; urgency=low

  * Fixed path for backup auth file in debian install scripts

 -- PA Nilsson <pa@openproducts.se>  Mon, 21 Jul 2014 14:15:24 +0200

opi-backup (1.0.7) testing; urgency=low

  * Added support to run backup on local disk

 -- PA Nilsson <pa@openproducts.se>  Mon, 21 Jul 2014 08:52:32 +0200

opi-backup (1.0.6) testing; urgency=low

  * Added quota support and changes to reflect opi-control
  * Added dep on opi-control
  * Improved error handling

 -- PA Nilsson <pa@openproducts.se>  Fri, 18 Jul 2014 19:14:54 +0200

opi-backup (1.0.5) testing; urgency=low

  * More syntax fix...

 -- PA Nilsson <pa@openproducts.se>  Wed, 02 Jul 2014 11:12:00 +0200

opi-backup (1.0.4) testing; urgency=low

  * Fixed syntax in cron link 

 -- PA Nilsson <pa@openproducts.se>  Wed, 02 Jul 2014 10:47:40 +0200

opi-backup (1.0.3) testing; urgency=low

  * Fixed typo in post rm script

 -- PA Nilsson <pa@openproducts.se>  Wed, 18 Jun 2014 11:27:52 +0200

opi-backup (1.0.2) testing; urgency=low

  * Fixed typo in post inst script

 -- PA Nilsson <pa@openproducts.se>  Wed, 18 Jun 2014 11:22:16 +0200

opi-backup (1.0.1) testing; urgency=low

  * First package build

 -- PA Nilsson <pa@openproducts.se>  Wed, 18 Jun 2014 11:12:33 +0200

opi-backup (1.0) testing; urgency=low

  * Initial Release.

 -- PA Nilsson <pa@openproducts.se>  Wed, 18 Jun 2014 09:11:00 +0200
